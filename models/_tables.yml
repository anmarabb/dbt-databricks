version: 2
models:
  - name: fct_order_items
    description: "A table of all page views on Lightdash webpages."
    columns:
      - name: line_item_id
        meta:
          metrics:
            record_count:
              type: count_distinct

      - name: line_item_type
      - name: order_type
      - name: Customer
      - name: User
      - name: returned_by
      - name: Supplier
      - name: Origin
      - name: Crop
      - name: product_category
      - name: product_subcategory

      - name: unit_fob_price
        description: refers to the cost of the product per unit at the factory, which includes the cost of manufacturing, packing, and transporting the goods to the port of departure (FOB stands for "free on board").
      - name: unit_landed_cost
        description: refers to the cost of the product per unit after it has arrived at its destination, and includes additional costs such as transportation, customs fees, taxes, and insurance.
      - name: unit_price
        description: is the price at which the product is sold to the customer, which can be based on a variety of factors including the cost of production, marketing and distribution expenses, competition, and desired profit margin.
      
      - name: total_price_without_tax
        description: (li.quantity * li.unit_price) - refers to the total amount of money a customer pays for a product or service, excluding any taxes that may apply. This metric is often used in pricing and revenue analysis to understand the revenue generated by a product or service before taxes are taken into account.
     


  - name: fct_invoice_items
    description: "Each row in the invoice_items table corresponds to a single item on an invoice, storing information such as the product sold, its quantity, and its price."
    columns:
      - name: invoice_item_id
        meta:
          metrics:
            total_invoice_count:
              type: count_distinct

      - name: invoiced_quantity
      - name: price_without_tax
      - name: financial_administration
      - name: invoice_item_type
      - name: Customer
      - name: account_manager
      - name: Product
      - name: order_date
      - name: customer_type
        description: ""

      - name: MTD_sales
        description: "The total sales for the current month to date."
        meta:
          metrics:
            Month To Date Sales:
              type: sum

      - name: LMTD_sales
        description: "The total sales for the same period in the last month (Last Month to Date)."
      - name: MTD_sales_last_year
        description: "The total sales for the current month to date."
      - name: m_1_sales
        description: ""
      - name: m_1_sales
        description: ""
      - name: m_1_sales_last_year
        description: ""
      - name: YTD_sales
        description: ""
      - name: LYTD_sales
        description: ""



  - name: dim_customer
    description: "This is a customer dimension table that holds comprehensive information about Floranow's customers. It serves as a reference point for customer-related data, enabling a detailed analysis of customer behavior and engagement with the platform."
    columns:
      - name: customer_id
      - name: Customer
      - name: city
      - name: state
      - name: country
      - name: debtor_number
      - name: account_type
      - name: customer_type
      - name: financial_administration
      - name: company_name
      - name: warehouse
      - name: payment_term
      - name: created_at
